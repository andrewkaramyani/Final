@model IEnumerable<AspNet_Core.Models.SubSection>
@{
    ViewBag.Title = "SubSection List";
}

    <div id="SubSectionPage">
        <div class="col-sm-12 col-lg-2 p-1">
            <input type="button" value="Add SubSection" onclick="AddNewSubSection('@Url.Action("Create", "SubSection")')" class="btn btn-info">
        </div>

        <div id="SubSections">
            @await Html.PartialAsync("_SubSections", Model)
        </div>

        <button id="btnSubSectionModal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#SubSectionModal" hidden></button>
        <div class="modal fade" id="SubSectionModal" tabindex="-1" role="dialog" aria-labelledby="SubSectionModalLabel" aria-hidden="true" data-keyboard="false">
            <div class="modal-dialog  modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div style="font-size:20px;">SubSection Info</div>
                        <button type="button" class="close btn btn-light" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="SubSectionModalBody">
                    </div>
                </div>
            </div>
        </div>

        <button id="btnUpdateSubSectionModal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#SubSectionUpdateModal" hidden></button>
        <div class="modal fade" id="SubSectionUpdateModal" tabindex="-1" role="dialog" aria-labelledby="SubSectionUpdateModallLabel" aria-hidden="true" data-keyboard="false">
            <div class="modal-dialog  modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <div style="font-size:20px;">SubSection Info</div>
                        <button type="button" class="close btn btn-light" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body" id="SubSectionUpdateModalBody">
                    </div>
                </div>
            </div>
        </div>


    </div>

<script>
    function AddNewSubSection(url) {
        $.ajax({
            type: "GET",
            url: url,
            dataType: 'html',
            success: function (data) {
                $('#SubSectionPage #SubSectionModalBody').html(data);
                $('#SubSectionPage #btnSubSectionModal').click();
                $("#SubSectionPage form").removeData("validator");
                $("#SubSectionPage form").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse("form");
            }
        });
    }
    function EditSubSection(SubSectionId, url) {
        $.ajax({
            type: "GET",
            url: url,
            dataType: "html",
            data: { id: SubSectionId },
            success: function (data) {
                //$('#SubSectionModalLabel').html("Edit SubSection");
                $('#SubSectionPage #SubSectionUpdateModalBody').html(data);
                $('#SubSectionPage #btnUpdateSubSectionModal').click();
                $("#SubSectionPage form").removeData("validator");
                $("#SubSectionPage form").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse("form");
            }
        });
    }
    function DeleteSubSection(SubSectionId, url) {
        $.ajax({
            type: "Get",
            url: url,
            data: { id: SubSectionId },
            dataType: 'html',
            success: function (data) {
                $('#SubSectionPage #SubSections').html(data);
            }
        });
    }

</script>